<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/images/favicon.png" type="image/png">
    <title><%= title %></title>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="/admin/style.css">
</head>

<body>
    <div class="wrapper">
        <aside id="sidebar">
            <div class="d-flex">
                <button class="toggle-btn" type="button">
                    <i class="fa-solid fa-headphones fa-beat"></i>
                </button>
                <div class="sidebar-logo">
                    <a href="/admin/dashboard">MoodTune</a>
                </div>
            </div>
            <ul class="sidebar-nav">
                <li class="sidebar-item">
                    <a href="/admin/dashboard" class="sidebar-link">
                        <i class="fa-sharp fa-solid fa-chart-simple"></i>
                        <span>Top Tracks Analytics</span>
                    </a>
                </li>
                <li class="sidebar-item active">
                    <a href="/admin/users" class="sidebar-link">
                        <i class="fa-solid fa-user-gear"></i>
                        <span>User</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="/admin/songs" class="sidebar-link">
                        <i class="fa-solid fa-music"></i>
                        <span>Song Management</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="/admin/playlist" class="sidebar-link">
                        <i class="fas fa-smile"></i>
                        <span>Mood & Activity Playlists</span>
                    </a>
                </li>
            </ul>
            <div class="sidebar-footer">
                <a href="#" class="sidebar-link" onclick = "confirmLogout(event)">
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span>Logout</span>
                </a>
                
            </div>
        </aside>
        <div class="main">
            <nav class="navbar navbar-expand px-4 py-3">
                <form action="#" class="d-none d-sm-inline-block">
                
                </form>
                <div class="navbar-collapse collapse">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item dropdown">
                            <a href="#" data-bs-toggle="dropdown" class="nav-icon pe-md-0">
                                <!-- <img src="/account.png" class="avatar img-fluid" alt=""> -->
                            </a>
                            <div class="dropdown-menu dropdown-menu-end rounded">

                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
            <script>
                function confirmLogout(event) {
  event.preventDefault(); // Prevent the default link behavior

  if (confirm('Are you sure you want to logout?')) {
    // User confirmed logout
    fetch('/logout', {
      method: 'GET',
      credentials: 'include', // Include cookies in the request
    })
      .then((response) => {
        if (response.redirected) {
          window.location.href = response.url; // Redirect to the login page
        } else {
          alert('Logout failed. Please try again.');
        }
      })
      .catch((error) => {
        console.error('Error during logout:', error);
        alert('An error occurred. Please try again.');
      });
  }
}

            </script>